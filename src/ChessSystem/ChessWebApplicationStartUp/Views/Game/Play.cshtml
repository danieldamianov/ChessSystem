@using ChessWebApplicationStartUp.Components
@using ChessGameLogic.Enums
@using ChessWebApplication.Controllers.Game.ViewModels
@using System.Text.Json;

@*param-ChessGame="@Model.ChessGame"*@
@model GamePlayViewModel

@{ ChessColors chessColor = Model.PlayerColor == "black" ? ChessColors.Black : ChessColors.White; }

@{
    string jsonString;
    jsonString = JsonSerializer.Serialize(@Model.ChessGame);
    ;
}
<component type="typeof(ChessBoardComponent)" render-mode="ServerPrerendered" param-chessColor="@chessColor"
           param-IsOnTurn="@chessColor == ChessColors.White" param-WhitePlayerId="Model.WhitePlayerId" param-BlackPlayerId="Model.BlackPlayerId" />


@section Scripts{

    <script src="~/lib/signalr/dist/browser/signalr.min.js"></script>
    <script src="~/js/game.js"></script>
}
